//Simple Sidebar v1.0.1 by DcDeiv https://github.com/dcdeiv
// GPLv2 http://www.gnu.org/licenses/gpl-2.0-standalone.html
!function(a){a.fn.simpleSidebar=function(b){var c,d,e,f,g={settings:{opener:void 0,wrapper:void 0,ignore:void 0,data:"ssbplugin",animation:{duration:500,easing:"swing"}},sidebar:{align:void 0,width:350,gap:64,closingLinks:"a",style:{zIndex:3e3}},mask:{style:{backgroundColor:"black",opacity:.5,filter:"Alpha(opacity=50)"}}},h=a.extend(!0,g,b),i=this,j=a(h.settings.opener),k=a(h.settings.wrapper),l=a(h.settings.ignore),m=h.settings.data,n=h.settings.animation.duration,o=h.settings.animation.easing,p=h.sidebar.align,q=h.sidebar.width,r=h.sidebar.gap,s=a(h.sidebar.links),t=h.sidebar.style,u=h.mask.style,v=q+r,w=a("*").not(l).not(i).filter(function(){return"fixed"==a(this).css("position")}),x=w.add(i).add(k).not(l),y=a(window).width(),z={position:"fixed",top:-200,right:-200,left:-200,bottom:-200,zIndex:h.sidebar.style.zIndex-1},A=a.extend({},u,z);console.log(A),i.css(t).wrapInner("<div data-"+m+'="sub-wrapper"></div>');var B=i.children().filter(function(){return"sub-wrapper"===a(this).data(m)});B.css({width:"100%",height:"100%",overflow:"auto"}),a("body").prepend("<div data-"+m+'="mask"></div>');var C=a("body").children().filter(function(){return"mask"===a(this).data(m)});C.css(A).hide();var D=function(){var a=i.width();x.animate({marginLeft:"+="+a,marginRight:"-="+a},{duration:n,easing:o,complete:e})},E=function(){var a=i.width();x.animate({marginLeft:"-="+a,marginRight:"+="+a},{duration:n,easing:o,complete:f})},F=function(){a("body, html").css({overflow:"hidden"}),a(C).fadeIn()},G=function(){a(C).fadeOut(function(){a("body, html").css({overflow:"auto"})})};return c=v>y?y-r:q,d=void 0===p||"left"===p?"left":"right","left"===d?(i.css({position:"fixed",top:0,left:0,bottom:0,width:c,marginLeft:-c}),e=F,f=G,j.click(D),C.add(s).click(E)):(i.css({position:"fixed",top:0,bottom:0,right:0,width:c,marginRight:-c}),e=G,f=F,j.click(E),C.add(s).click(D)),a(window).resize(function(){var b,c,e=a(this).width();b=v>e?e-r:q,i.css({width:b}),"left"===d?(c=parseInt(i.css("margin-left")),0>c?i.css({marginLeft:-b}):x.not(i).css({marginLeft:+b,marginRight:-b})):(c=parseInt(i.css("margin-right")),c>0?i.css({marginRight:-b}):x.not(i).css({marginLeft:-b,marginRight:+b}))}),this}}(jQuery);