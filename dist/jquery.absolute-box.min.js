/*! absolute-box v5.0.2 (https://github.com/dcdeiv/absolute-box#readme)
** Copyright (c) 2015 - 2016 Davide Di Criscito
** Dual licensed under MIT and GPL-2.0
*/
!function(a){a.fn.absoluteBox=function(b){var c={settings:{dataName:"absolutebox",figcaption:!0,permalink:!0},absoluteBox:{style:{position:"fixed",top:0,right:0,bottom:0,left:0,margin:0,padding:0,zIndex:2e5,backgroundColor:"#000",color:"#fff"}},figure:{style:{position:"relative",width:"100%",maxWidth:"100%",height:"100%",maxHeight:"100%",margin:0,padding:0,textAlign:"center"}},figcaption:{style:{position:"absolute",right:0,bottom:0,left:0,margin:0,padding:"0 1em",height:75,backgroundColo:"rgb(46, 46, 46)",backgroundColor:"rgba(46, 46, 46, 0.8)",color:"#FFF",textAlign:"left",overflow:"auto"},animation:{duration:500,easing:"swing"}},navigation:{style:{position:"absolute",top:0,right:0,bottom:0,padding:0},icons:{quit:{style:{position:"relative",margin:"1em",width:50,height:50,backgroundColor:"#fff","-webkit-border-radius":24,"-moz-border-radius":24,borderRadius:24},html:"<div style='position: absolute; top: 22px; left: 7px; height: 6px; width: 36px; -webkit-border-radius: 2em; -moz-border-radius: 2em; border-radius: 2em; background-color: black; -webkit-transform: rotate(45deg); -moz-transform: rotate(45deg); -ms-transform: rotate(45deg); -o-transform: rotate(45deg); transform: rotate(45deg)'></div><div style='position: absolute; top: 22px; left: 7px; height: 6px; width: 36px; -webkit-border-radius: 2em; -moz-border-radius: 2em; border-radius: 2em; background-color: black; -webkit-transform: rotate(-45deg); -moz-transform: rotate(-45deg); -ms-transform: rotate(-45deg); -o-transform: rotate(-45deg); transform: rotate(-45deg)'></div>"},permalink:{style:{position:"relative",margin:"1em",width:50,height:50,backgroundColor:"#fff","-webkit-border-radius":24,"-moz-border-radius":24,borderRadius:24},html:"<div style='position: absolute; top: 12px; left:24px; width: 8px; height: 15px; border-top: 4px solid black; border-right: 3px solid black; border-left: 3px solid black; border-radius: .3em; -webkit-transform: rotate(30deg); -moz-transform: rotate(30deg); -ms-transform: rotate(30deg); -o-transform: rotate(30deg); transform: rotate(30deg)'></div><div style='position: absolute; top:20px; left: 12px; width: 8px; height: 15px; border-right: 3px solid black; border-bottom: 4px solid black; border-left: 3px solid black; border-radius: .3em; -webkit-transform: rotate(30deg); -moz-transform: rotate(30deg); -ms-transform: rotate(30deg); -o-transform: rotate(30deg); transform: rotate(30deg)'></div>"}}}},d=a.extend(!0,c,b),e=d.absoluteBox.style.zIndex;return this.each(function(){var b,c,f,g,h,i=d.settings.figcaption,j=d.settings.dataName,k=a(this),l=k.prop("tagName").toLowerCase(),m=a(document).scrollTop(),n=0;if("figure"===l)f=k.children().filter("figcaption"),c=k.parent(),b=k.children().filter("img");else if("img"===l){b=k;var o=k.parent();c=o.parent(),i=!1}b.click(function(){var b=a(this),k=b.attr("src");c.append("<div data-"+j+"='active' />");var l=c.children().filter(function(){return"active"===a(this).data(j)});l.hide().prepend("<figure />").append("<div data-"+j+"='nav' />").css(d.absoluteBox.style).fadeIn();var o=l.children().filter("figure"),p=l.children().filter(function(){return"nav"===a(this).data(j)});o.css(d.figure.style),b.clone().prependTo(o),p.css(d.navigation.style).css("z-index",e+1).prepend("<div data-"+j+"='quit' />");var q=o.children().filter("img"),r=p.children(":first-child");if(r.html(d.navigation.icons.quit.html).css(d.navigation.icons.quit.style).click(function(){a("body, html").css({position:"static"}).animate({scrollTop:m},function(){l.fadeOut(function(){l.remove()}),a("body, html").css({"overflow-y":"auto"})})}),!0===d.settings.permalink&&(p.append("<div data-"+j+"='permalink' />"),g=p.children().filter(function(){return"permalink"===a(this).data(j)}),g.html(d.navigation.icons.permalink.html).css(d.navigation.icons.permalink.style).click(function(){window.open(k,"_blank")})),!0===i){f.clone().appendTo(o);var s=0;h=o.children().filter("figcaption"),h.css(d.figcaption.style).css("z-index",e+2).click(function(){s++;var a=function(a){return a%2===0};!1===a(s)?h.animate({height:"50%"},{duration:d.figcaption.animation.duration,easing:d.figcaption.animation.easing}):!0===a(s)&&h.animate({height:d.figcaption.style.height},{duration:d.figcaption.animation.duration,easing:d.figcaption.animation.easing})})}q.click(function(){n++;var a=function(a){return a%2===0};!1===a(n)?p.add(h).fadeOut(400):!0===a(n)&&p.add(h).fadeIn(400)}),a(window).resize(function(){var a=b.width(),c=b.height(),d=a/c,e=l.width(),f=l.height(),g=e/f,h=e/d;q.css({width:"auto",maxHeight:"100%",maxWidth:"100%"}),d>g?q.css({marginTop:.5*f-.5*h}):q.css({marginTop:0})}),a(window).resize(),a("body, html").css({position:"fixed",top:-m,left:0,right:0,"overflow-y":"hidden"})})})}}(jQuery);